<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> java--private构造函数 | nthreex blog</title><meta name="description" content="java--private构造函数 - nthreex"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/myfavicon.png"><link rel="stylesheet" href="/scss/casual.css"><link rel="stylesheet" href="/css/icon.css"><link rel="search" type="application/opensearchdescription+xml" href="nthreex.github.io/atom.xml" title="nthreex blog"></head><body><div class="header"><header class="site-header"><div class="site-nav"><span class="button-toggle"></span><div class="container"><div class="nav-item"><a href="/" target="_self" data-text="home">Home</a></div><div class="nav-item"><a href="/archives" target="_self" data-text="archive">Archive</a></div><div class="nav-item"><a href="/about" target="_self" data-text="about">About</a></div><div class="nav-item"><a href="/atom.xml" target="_self" data-text="rss">Rss</a></div></div><form id="search-form" class="nav-item"><input type="text" id="local-search-input" name="q" results="0" placeholder="search" autocomplete="off" autocorrect="off" class="search form-control"><span onclick="resetSearch()" class="fa fa-times"> </span></form><div id="local-search-result"></div><p class="no-result">No results found</p></div></header></div><div class="main"><div class="container"><div class="content"><div class="post"><article class="post-block"><h1 class="post-title">java--private构造函数</h1><span class="post-date">2017年4月11日</span><span class="post-tag"><a href="/tags/java/">java</a></span><span class="post-review">阅读次数 : <span data-hk-page="current">-</span></span><img src="http://pic.yupoo.com/nthreex/GmA1td64/wAZcE.jpg" class="bgimage"><div class="post-content"><h1 id="为什么有的类将构造函数声明为private或者protected？这是一种什么用法？有什么作用？"><a href="#为什么有的类将构造函数声明为private或者protected？这是一种什么用法？有什么作用？" class="headerlink" title="为什么有的类将构造函数声明为private或者protected？这是一种什么用法？有什么作用？"></a>为什么有的类将构造函数声明为private或者protected？这是一种什么用法？有什么作用？</h1><blockquote>
<p>nthreex</p>
</blockquote>
<p>   与我们常见的不同，在Java中有些类的构造函数是被声明为private或者protected的。当声明为protected时，只有同一个包内的类能调用构造函数来生成对象，而声明为private时，则更是只有类内部才可以生成对象。</p>
<pre><code>            | Class | Package | Subclass | Subclass | World
            |       |         |(same pkg)|(diff pkg)| 
————————————+———————+—————————+——————————+——————————+————————
public      |   +   |    +    |    +     |     +    |   +     
————————————+———————+—————————+——————————+——————————+————————
protected   |   +   |    +    |    +     |     +    |   o     
————————————+———————+—————————+——————————+——————————+————————
no modifier |   +   |    +    |    +     |     o    |   o
————————————+———————+—————————+——————————+——————————+————————
private     |   +   |    o    |    o     |     o    |   o

+ : accessible
o : not accessible
</code></pre><p>那么这么做的目的是什么？我们用两个源码来进行说明</p>
<hr>
<h2 id="1-Runtime类"><a href="#1-Runtime类" class="headerlink" title="1. Runtime类"></a>1. Runtime类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Runtime</span> </span>&#123;</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">static</span> Runtime currentRuntime = <span class="keyword">new</span> Runtime();</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Runtime <span class="title">getRuntime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> currentRuntime;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/** Don't let anyone else instantiate this class */</span></span><br><span class="line">      <span class="function"><span class="keyword">private</span> <span class="title">Runtime</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>这个类的设计思想也就是单例模式思想。在这种思想模式下，类被创建后，只可能产生一个实例供外部访问，并且提供一个全局的访问点。</p>
<p>核心知识点如下：</p>
<ul>
<li>(1) 将采用单例设计模式的类的构造方法私有化（采用private修饰）。</li>
<li>(2) 在其内部产生该类的实例化对象，并将其封装成private static类型。</li>
<li>(3) 定义一个静态方法返回该类的实例。</li>
</ul>
<hr>
<p>单例模式是一种比较常见的设计模式，它到底能带给我们什么好处呢?其实无非是三个方面的作用：</p>
<ul>
<li>第一、控制资源的使用，通过线程同步来控制资源的并发访问；</li>
<li>第二、控制实例产生的数量，达到节约资源的目的。</li>
<li>第三、作为通信媒介使用，也就是数据共享，它可以在不建立直接关联的条件下，让多个不相关的两个线程或者进程之间实现通信。</li>
</ul>
<p>比如，数据库连接池的设计一般采用单例模式，数据库连接是一种数据库资源。软件系统中使用数据库连接池，主要是节省打开或者关闭数据库连接所引起的效率损耗，这种效率上的损耗还是非常昂贵的。当然，使用数据库连接池还有很多其它的好处，可以屏蔽不同数据数据库之间的差异，实现系统对数据库的低度耦合，也可以被多个系统同时使用，具有高可复用性，还能方便对数据库连接的管理等等。数据库连接池属于重量级资源，一个应用中只需要保留一份即可，既节省了资源又方便管理。所以数据库连接池采用单例模式进行设计会是一个非常好的选择。</p>
<p>在我们日常使用的在Windows中也有不少单例模式设计的组件，象常用的文件管理器。由于Windows操作系统是一个典型的多进程多线程系统，那么在创建或者删除某个文件的时候，就不可避免地出现多个进程或线程同时操作一个文件的现象。采用单例模式设计的文件管理器就可以完美的解决这个问题，所有的文件操作都必须通过唯一的实例进行，这样就不会产生混乱的现象。</p>
<p>再比如，每台计算机可以有若干个打印机，如果每一个进程或者线程都独立地使用打印机资源的话，那么我们打印出来的结果就有可能既包含这个打印任务的一部分，又包含另外一个打印任务的一部分。所以，大多数的操作系统最终为打印任务设计了一个单例模式的假脱机服务Printer Spooler，所有的打印任务都需要通过假脱机服务进行。</p>
<hr>
<h2 id="2-System类"><a href="#2-System类" class="headerlink" title="2. System类"></a>2. System类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">System</span> </span>&#123;</span><br><span class="line">     ...</span><br><span class="line">     <span class="comment">/** Don't let anyone instantiate this class */</span></span><br><span class="line">     <span class="function"><span class="keyword">private</span> <span class="title">System</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     &#125;</span><br><span class="line">     ...</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>这个类与Runtime类不一样，这个类连类的内部也没有该类的实例化对象，那么这又是为什么？<br>答案很简单，因为这个类的设计者把所有你需要的功能放在静态方法和变量中了，所以也就没有实例化对象的必要。</p>
<blockquote>
<p>参考文章</p>
<p><a href="http://stackoverflow.com/questions/215497/in-java-difference-between-default-public-protected-and-private" target="_blank" rel="external">http://stackoverflow.com/questions/215497/in-java-difference-between-default-public-protected-and-private</a><br><a href="http://www.cnblogs.com/yinxiaoqiexuxing/p/5605338.html" target="_blank" rel="external">http://www.cnblogs.com/yinxiaoqiexuxing/p/5605338.html</a></p>
</blockquote>
</div></article></div><div class="post-paginator"><div class="post-links"><div class="post-next"><a href="/2017/04/01/Make-a-choice/" class="next">Next Post<span>Make a choice</span></a></div></div></div><div id="uyan_frame"></div></div><div class="sidebar"><div class="social-links"><ul><li class="social-link"><a href="http://github.com/nthreex" target="_blank" class="link-github"><i class="icon icon-github"></i></a></li><li class="social-link"><a href="http://weibo.com/nthreex" target="_blank" class="link-weibo"><i class="icon icon-weibo"></i></a></li><li class="social-link"><a href="mailto:nthreex@163.com" target="_self" class="link-mail"><i class="icon icon-mail"></i></a></li></ul></div><div class="recent-posts widget"><h3 class="widget-title"> Recent Posts</h3><div class="widget-content"><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/04/11/java-private构造函数/">java--private构造函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/01/Make-a-choice/">Make a choice</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/29/Java之classpath小见解/">Java之classpath小见解</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/27/东山再起/">东山再起</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/03/my-new-post/">我的第一篇文章..</a></li></ul></div></div><div class="recent-comment widget"><h3 class="widget-title"> Recent Comments</h3><div class="widget-content"><div id="uyan_newcmt_unit"></div></div></div><div class="tag-lists widget"><h3 class="widget-title"> Tags</h3><div class="widget-content"><a class="tag-link" href="/tags/classpath/">classpath</a> <a class="tag-link" href="/tags/feeling/">feeling</a> <a class="tag-link" href="/tags/hexo/">hexo</a> <a class="tag-link" href="/tags/java/">java</a> <a class="tag-link" href="/tags/life/">life</a></div></div><div class="archive-lists widget"><h3 class="widget-title"> Archive</h3><div class="widget-content"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">2</span></li></ul></div></div></div></div></div><footer><div class="copyright"><div class="container"><div class="col-6"><div class="site-info">© 2016 - 2017 <span class="icon icon-heart"></span> <a href="nthreex.github.io">nthreex</a><span class="sep">/</span><a href="https://hexo.io/" target="_blank">Powered by Hexo</a><span class="sep">/</span><a href="https://github.com/littlewin-wang/hexo-theme-casual" target="_blank">Theme by casual</a></div></div><div class="col-6"><div class="site-contact"><div class="social-links"><ul><li class="social-link"><a href="http://github.com/nthreex" target="_blank" class="link-github"><i class="icon icon-github"></i></a></li><li class="social-link"><a href="http://weibo.com/nthreex" target="_blank" class="link-weibo"><i class="icon icon-weibo"></i></a></li><li class="social-link"><a href="mailto:nthreex@163.com" target="_self" class="link-mail"><i class="icon icon-mail"></i></a></li></ul></div></div></div></div></div></footer><a class="scroll-up"><span class="icon icon-up"></span></a><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script><script src="/js/posfixed.js"></script><script src="/js/utils.js"></script><script src="/js/search.js"></script><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2128137"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-92791318-1",'auto');ga('send','pageview');</script><script src="https://cdn1.lncld.net/static/js/av-mini-0.6.10.js"></script><script src="http://jerry-cdn.b0.upaiyun.com/hit-kounter/hit-kounter-lc-0.2.0.js"></script></body></html>